<div
  class="block"
  style="pointer-events: all"
  [style.background-color]="page.backgroundColor"
  id="{{ id }}"
  #col
  (click)="clicked.emit()"
  [class.big-design-editor]="active"
  [style.padding-top.px]="col.clientWidth * (block.padding.top * 0.0025)"
  [style.padding-right.px]="col.clientWidth * (block.padding.right * 0.0025)"
  [style.padding-bottom.px]="col.clientWidth * (block.padding.bottom * 0.0025)"
  [style.padding-left.px]="col.clientWidth * (block.padding.left * 0.0025)"
>
  <div
    class="p-0 w-100"
    style="overflow: hidden"
    [style.background-color]="block.backgroundColor"
    [style.border-left-width.px]="
      col.clientWidth * (block.borders.left.width * 0.0005)
    "
    [style.border-right-width.px]="
      col.clientWidth * (block.borders.right.width * 0.0005)
    "
    [style.border-top-width.px]="
      col.clientWidth * (block.borders.top.width * 0.0005)
    "
    [style.border-bottom-width.px]="
      col.clientWidth * (block.borders.bottom.width * 0.0005)
    "
    [style.border-left-color]="block.borders.left.color"
    [style.border-right-color]="block.borders.right.color"
    [style.border-top-color]="block.borders.top.color"
    [style.border-bottom-color]="block.borders.bottom.color"
    [style.border-style]="'solid'"
    [style.color]="block.textColor"
    [style.border-radius.px]="col.clientWidth * block.corners * 0.0025"
    [style.box-shadow]="
      col.clientWidth * (block.shadow.direction.horizontal * 0.0005) +
      'px ' +
      col.clientWidth * (block.shadow.direction.vertical * 0.0005) +
      'px ' +
      col.clientWidth * (block.shadow.blur * 0.0005) +
      'px ' +
      block.shadow.color
    "
  >
    <!-- <div
    *ngIf="
      ((activeBlock.index == i ? activeBlock?.block : undefined)
        ?.text ??
        block.text ??
        '') !=
      ''
    "
    class="d-flex align-items-center justify-content-center py-2 m-0"
    style="height: 50px; font-weight: bold; font-size: 30px"
    style.color="{{ selectedTheme!['color'] }}"
  >
    <p
      class="text-center text-dark"
      style="line-height: 1.2em"
    >
      {{
        (activeBlock.index == i ? activeBlock.block : undefined)
          ?.text ?? block.text
      }}
    </p>
  </div> -->

    <div class="w-100">
      <thred-grid
        [block]="block"
        [defaultItems]="
          defaultItems
            ? { block: block.type, data: defaultItems ?? [] }
            : undefined
        "
      ></thred-grid>
    </div>

    <!-- <div
      class="row gx-0 row-cols-{{
        editableLayout.type == 'desktop' &&
          ((activeBlock.index == i
            ? activeBlock.block
            : undefined
          )?.grid?.rows ?? block.grid.rows)
      }} justify-content-center w-100 mx-0"
      *ngIf="
        ((activeBlock.index == i
          ? activeBlock?.block
          : undefined
        )?.type ??
          block.type) ==
        1
      "
      style="pointer-events: none"
    >
      <div
        class="col"
        style="margin-bottom: 2px"
        *ngFor="
          let img of (activeBlock.index == i
            ? activeBlock?.block
            : undefined
          )?.imgs ??
            block.imgs ??
            []
        "
      >
        <div
          class="d-block align-items-center text-center text-sm-start w-100"
        >
          <a class="mx-0" role="button">
            <img
              class="h-auto w-100"
              style="object-fit: contain"
              [src]="img"
              alt="ok"
            />
          </a>
        </div>
      </div>
    </div> -->

    <!-- <div
      class="row gx-0 row-cols-{{
        editableLayout.type == 'desktop' &&
          ((activeBlock.index == i
            ? activeBlock.block
            : undefined
          )?.grid?.rows ?? block.grid.rows)
      }} justify-content-center w-100 px-3 mb-1"
      *ngIf="
        ((activeBlock.index == i
          ? activeBlock?.block
          : undefined
        )?.type ??
          block.type) ==
        3
      "
      style="pointer-events: none"
    ></div> -->

    <!-- <div
      class="row gx-0 row-cols-{{
        editableLayout.type == 'desktop' &&
          ((activeBlock.index == i
            ? activeBlock.block
            : undefined
          )?.grid?.rows ?? block.grid.rows)
      }} justify-content-center w-100 mx-0"
      *ngIf="
        ((activeBlock.index == i
          ? activeBlock?.block
          : undefined
        )?.type ??
          block.type) ==
        4
      "
    >
      <div
        class="col mb-1"
        *ngFor="
          let vid of (
            (activeBlock.index == i
              ? activeBlock?.block
              : undefined) ?? block
          ).vids ?? [];
          index as i
        "
      >
        <div
          class="d-block align-items-center text-center text-sm-start w-100"
        >
          <a class="ms-0 me-0" role="button">
            <iframe
              [src]="vid.link | videoPipe | safeUrl"
              width="100%"
              style="aspect-ratio: 16/9"
            ></iframe>
          </a>
        </div>
      </div>
    </div> -->

    <!-- <div
      class="w-100 mx-0"
      *ngIf="
        ((activeBlock.index == i
          ? activeBlock?.block
          : undefined
        )?.type ??
          block.type) ==
        2
      "
      style="pointer-events: none"
    >
      <div
        class="p-3 h-100"
        style.color="{{ selectedTheme!['color'] }}"
        [innerHTML]="
          (
            (activeBlock.index == i
              ? activeBlock.block
              : undefined) ?? block
          ).html | safeTextRows
        "
      ></div>
    </div> -->

    <!-- <div
      class="w-100 mx-0"
      id="c{{ i }}"
      *ngIf="
        (
          (activeBlock.index == i
            ? activeBlock?.block
            : undefined) ?? block
        ).type == 7
      "
      style="pointer-events: none"
    >
      <iframe
        width="100%"
        id="frame{{ i }}"
        height="100%"
        (load)="resizeIframe(i)"
        [srcdoc]="
          (
            (activeBlock.index == i
              ? activeBlock.block
              : undefined) ?? block
          ).htmlTemplate | safeHtml
        "
      ></iframe>
    </div> -->
  </div>
</div>
