<ng-container *ngIf="authMode != undefined && page">
  <div
    class="w-100 d-flex justify-content-center flex-column align-items-center border-0"
  >
    <div
      class="w-100 d-flex flex-column justify-content-center align-items-center"
      *ngIf="mode != 3"
    >
      <!-- <img
        class="w-100 h-100"
        [src]="'assets/auth_design.svg'"
        style="object-fit: cover"
      /> -->
      <div
        class="w-100 d-flex justify-content-center align-items-center px-4 pt-2 pt-md-0"
      >
        <form
          *ngIf="authMode == 1"
          style="width: 600px; max-width: 100%"
          [formGroup]="
            mode == 0 ? signUpForm : mode == 1 ? signInForm : passResetForm
          "
        >
          <ng-container *ngIf="mode == 0">
            <div
              class="w-100 h-100 d-flex flex-column justify-content-center align-items-center animate__animated animate__fadeIn"
              [style.color]="page.textColor"
            >
              <div class="w-100 text-center">
                <div class="mw-50 mt-5 mb-3 mx-auto" *ngIf="img">
                  <img
                    #image
                    id="image"
                    class="w-100"
                    [src]="img.url"
                    style="object-fit: contain"
                    [style.aspect-ratio]="img.width / img.height"
                  />
                </div>

                <div class="w-100 mb-1" *ngIf="name">
                  <h4 class="w-100 text-center">{{ name }}</h4>
                </div>
              </div>

              <div class="w-100 py-4">
                <div class="w-100 py-1">
                  <span style="font-size: small" class="w-100 text-start"
                    >Email</span
                  >
                  <div class="rounded-15 border w-100 pb-2 px-4 mb-2 mt-1">
                    <mat-form-field
                      class="w-100"
                      appearance="legacy"
                      floatLabel="never"
                    >
                      <input
                        class="h-100"
                        matInput
                        type="email"
                        formControlName="email"
                        placeholder="Ex. john@thredapps.com"
                        [style.color]="page.textColor"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="w-100 py-1">
                  <span style="font-size: small" class="w-100 text-start"
                    >Password</span
                  >
                  <div class="rounded-15 border w-100 pb-2 px-4 mb-2 mt-1">
                    <mat-form-field
                      class="w-100"
                      appearance="legacy"
                      floatLabel="never"
                    >
                      <input
                        class="h-100"
                        matInput
                        type="password"
                        formControlName="password"
                        placeholder="Secure Password"
                        [style.color]="page.textColor"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="w-100 py-1">
                  <span style="font-size: small" class="w-100 text-start"
                    >Confirm Password</span
                  >
                  <div class="rounded-15 border w-100 pb-2 px-4 mb-2 mt-1">
                    <mat-form-field
                      class="w-100"
                      appearance="legacy"
                      floatLabel="never"
                    >
                      <input
                        class="h-100"
                        matInput
                        type="password"
                        formControlName="confirmPass"
                        placeholder="Confirm Password"
                        [style.color]="page.textColor"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <!-- <div class="w-100 py-1 mt-2 px-2" *ngIf="!err">
                <p
                  class="w-100 text-center animate__animated animate__fadeIn"
                  style="font-size: small"
                >
                  By joining Thred
                  <b role="button" class="fw-bold text-purple-hover"
                    >Thred Developer Program</b
                  >, you agree to our
                  <b role="button" class="fw-bold text-purple-hover"
                    >Terms of Service</b
                  >.
                </p>
              </div> -->
                <div class="w-100 py-1 mt-2 px-2" *ngIf="err">
                  <p
                    class="w-100 text-center text-danger animate__animated animate__fadeIn"
                    style="font-size: small"
                  >
                    {{ err }}
                  </p>
                </div>
                <div class="w-100 py-1 mt-3">
                  <button
                    class="btn shadow rounded-15 px-5 py-3 fw-bold w-100 mt-1"
                    (click)="continue()"
                    id="continue"
                    [style.background-color]="page.textColor"
                    [style.color]="page.backgroundColor"
                  >
                    Continue
                    <span
                      *ngIf="loading"
                      class="spinner-border spinner-border-sm ms-1"
                      role="status"
                      aria-hidden="true"
                    ></span>
                  </button>
                </div>

                <div class="w-100 py-1 mt-3 px-2">
                  <p
                    class="w-100 text-center"
                    style="font-size: small"
                    role="button"
                    (click)="mode = 1"
                  >
                    Already have an account?
                    <b role="button" class="fw-bold">Sign in</b>.
                  </p>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="mode == 1">
            <div
              class="w-100 h-100 d-flex flex-column justify-content-center align-items-center animate__animated animate__fadeIn"
              [style.color]="page.textColor"
            >
              <!-- <img
                class="my-3"
                [src]="img"
                style="aspect-ratio: 1; object-fit: contain; width: 30%"
              /> -->

              <div class="w-100 text-center">
                <div class="mw-50 mt-5 mb-3 mx-auto" *ngIf="img">
                  <img
                    #image
                    id="image"
                    class="w-100"
                    [src]="img.url"
                    style="object-fit: contain"
                    [style.aspect-ratio]="img.width / img.height"
                  />
                </div>

                <div class="w-100 mb-1" *ngIf="name">
                  <h4 class="w-100 text-center">{{ name }}</h4>
                </div>
              </div>

              <div class="w-100 py-4">
                <div class="w-100 py-1">
                  <span style="font-size: small" class="w-100 text-start"
                    >Email</span
                  >
                  <div class="rounded-15 border w-100 pb-2 px-4 mb-2 mt-1">
                    <mat-form-field
                      class="w-100"
                      appearance="legacy"
                      floatLabel="never"
                    >
                      <input
                        class="h-100"
                        matInput
                        type="email"
                        formControlName="email"
                        placeholder="Ex. john@hello.com"
                        [style.color]="page.textColor"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="w-100 py-1">
                  <span style="font-size: small" class="w-100 text-start"
                    >Password</span
                  >
                  <div class="rounded-15 border w-100 pb-2 px-4 mb-2 mt-1">
                    <mat-form-field
                      class="w-100"
                      appearance="legacy"
                      floatLabel="never"
                    >
                      <input
                        class="h-100"
                        matInput
                        type="password"
                        formControlName="password"
                        placeholder="Secure Password"
                        [style.color]="page.textColor"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="w-100 py-1 mt-2 px-2" *ngIf="!err">
                  <p class="w-100 text-center" style="font-size: small">
                    <b
                      role="button"
                      class="fw-bold animate__animated animate__fadeIn"
                    >
                      I forgot my password
                    </b>
                  </p>
                </div>
                <div class="w-100 py-1 mt-2 px-2" *ngIf="err">
                  <p
                    class="w-100 text-center text-danger animate__animated animate__fadeIn"
                    style="font-size: small"
                  >
                    {{ err }}
                  </p>
                </div>
                <div class="w-100 py-1 mt-3">
                  <button
                    class="btn shadow rounded-15 px-5 py-3 fw-bold w-100 mt-1"
                    (click)="continue()"
                    id="continue"
                    [style.background-color]="page.textColor"
                    [style.color]="page.backgroundColor"
                  >
                    Continue
                    <span
                      *ngIf="loading"
                      class="spinner-border spinner-border-sm ms-1"
                      role="status"
                      aria-hidden="true"
                    ></span>
                  </button>
                </div>

                <div class="w-100 py-1 mt-3 px-2">
                  <p
                    class="w-100 text-center"
                    style="font-size: small"
                    role="button"
                    (click)="mode = 0"
                  >
                    Don't have an account?
                    <b role="button" class="fw-bold">Sign Up</b>.
                  </p>
                </div>
              </div>
            </div>
          </ng-container>
        </form>
      </div>
    </div>
    <!-- <ng-container *ngIf="mode == 3">
      <div
        class="w-100 vh-80 d-flex justify-content-center flex-column align-items-center no-select position-fixed animate__animated animate__fadeIn"
      >
        <span class="text-loader fw-bold">THRED</span>
      </div>
    </ng-container> -->
  </div>
</ng-container>
